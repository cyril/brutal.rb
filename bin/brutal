#!/usr/bin/env ruby
# frozen_string_literal: true

require "pathname"
require_relative File.join("..", "lib", "brutal")

path = ARGV.fetch(0, Brutal::File::DEFAULT_CONFIG_FILENAME)
pathname = Pathname.new(path)
pathname += Brutal::File::DEFAULT_CONFIG_FILENAME if pathname.directory?
force_opt = ARGV.none?("--no-force")

Brutal.generate!(pathname, force: force_opt)
